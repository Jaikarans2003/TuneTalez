(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[796],{63:(e,r,s)=>{"use strict";var a=s(7260);s.o(a,"useParams")&&s.d(r,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(r,{useRouter:function(){return a.useRouter}})},1158:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u});var a=s(5155),t=s(2115),l=s(63),i=s(5300),n=s(9708);let d=e=>{let{pdfUrl:r,fileName:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"bg-secondary text-white p-4 rounded-t-lg w-full max-w-4xl",children:(0,a.jsx)("h2",{className:"text-xl font-bold truncate",children:s})}),(0,a.jsx)("div",{className:"bg-white shadow-lg rounded-b-lg p-6 w-full max-w-4xl",children:(0,a.jsx)("div",{className:"flex justify-center border border-gray-200 rounded overflow-hidden",style:{height:"calc(100vh - 200px)"},children:(0,a.jsx)("iframe",{src:r,title:s,width:"100%",height:"100%",style:{border:"none"}})})})]})};var o=s(2619),c=s.n(o);function u(){let e=(0,l.useParams)();(0,l.useRouter)();let[r,s]=(0,t.useState)(null),[o,u]=(0,t.useState)(!0),[m,x]=(0,t.useState)(null);return(0,t.useEffect)(()=>{(async()=>{if(!e.id){x("PDF ID is missing"),u(!1);return}try{let r=(0,n.H9)(i.db,"pdfs",e.id),a=await (0,n.x7)(r);a.exists()?s(a.data()):x("PDF not found")}catch(e){console.error("Error fetching PDF:",e),x("Failed to load PDF. Please try again later.")}finally{u(!1)}})()},[e.id]),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)(c(),{href:"/",className:"text-primary hover:text-primary-dark transition-colors flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Documents"]})}),o?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):m?(0,a.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,a.jsx)("span",{className:"block sm:inline",children:m}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(c(),{href:"/",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark transition-colors",children:"Return to Home"})})]}):r?(0,a.jsx)(d,{pdfUrl:r.url,fileName:r.name}):null]})}},3497:(e,r,s)=>{Promise.resolve().then(s.bind(s,1158))},5300:(e,r,s)=>{"use strict";s.d(r,{IG:()=>o,db:()=>d,j2:()=>c});var a=s(2078),t=s(9708),l=s(9996),i=s(1328);let n=(0,a.Dk)().length?(0,a.Dk)()[0]:(0,a.Wp)({apiKey:"AIzaSyB7byiynZrjiqAo8NDIurtBg-MVBolYSjY",authDomain:"tune-tales-7bc34.firebaseapp.com",projectId:"tune-tales-7bc34",storageBucket:"tune-tales-7bc34.firebasestorage.app",messagingSenderId:"73380609988",appId:"1:73380609988:web:deb202818f8a602f73ee91",measurementId:"G-54939GDQH8"}),d=(0,t.aU)(n),o=(0,l.c7)(n),c=(0,i.xI)(n)}},e=>{e.O(0,[135,210,372,619,441,493,358],()=>e(e.s=3497)),_N_E=e.O()}]);